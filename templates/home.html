<!DOCTYPE php>
<html>
  <head>
    <title>TM Schools Dashboard</title>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  </head>
  <body>
    {% include 'nav.html' %}
    {% include 'banner.html' %}
    <div class="container">
    <h1 class="text-center mt-2 mb-4"> TM Schools Search
    </h1>
    <p class="lead">
      This interactive searching tool allows users to explore information about different schools in Malaysia effortlessly. Users can search for schools by entering the School Code or School Name, and the application provides details such as the School Code, School Name, TM Interim Status, and TM Hybrid Status.
    </p>
        
      <form method="post" class="mt-3" id="searchForm">
          <div class="input-group">
              <input type="text" name="school_code" class="form-control" placeholder="Enter School Code" required
                     value="{{ request.form['school_code'] if request.form['school_code'] else '' }}">
          </div>

          <div class="mt-2 text-center">
              <button type="submit" class="btn btn-primary">Search</button>
              <a href="/" class="btn btn-danger ml-2">Reset</a>
          </div>
      </form>




      {% if request.method == 'POST' %}
          {% if result %}
              <h2 class="text-center mt-2 mb-4">Search Result</h2>
              <div class="table-responsive">
                  <table class="table table-bordered border-primary">
                      <thead>
                          <tr>
                              <th>School Code</th>
                              <th>School Name</th>
                              <th>Interim</th>
                              <th>VSAT</th>
                              <th>Hybrid</th>
                          </tr>
                      </thead>
                      <tbody>
                          <tr>
                              <td>{{ result['KOD SEKOLAH'] }}</td>
                              <td>{{ result['SENARAI SEKOLAH MALAYSIA'] }}</td>
                              <td>{{ result['SEKOLAH INTERIM'] }}</td>
                              <td>{{ result['SEKOLAH VSAT'] }}</td>
                              <td>{{ result['SEKOLAH HYBRID'] }}</td>
                          </tr>
                      </tbody>
                  </table>
              </div>
          {% else %}
              <div class="alert alert-danger" role="alert">
                  <strong>No result found</strong> for the provided school code <strong>'{{ request.form['school_code'] }}'<strong>
              </div>
          {% endif %}
      {% endif %}

      
    </div>
    
    {% include "footer.html" %}
    
  </body>
  
</html>